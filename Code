from config import TOKEN
import telebot
import random

bot = telebot.TeleBot(TOKEN)

class Car:
    def __init__(self, color="–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω", brand="–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞"):
        self.color = color
        self.brand = brand
        
    def info(self):
        return f"üöó –ú–∞—à–∏–Ω–∞: {self.brand}\n–¶–≤–µ—Ç: {self.color}"

@bot.message_handler(commands=['start', 'help'])
def send_welcome(message):
    text = """
üëã –ü—Ä–∏–≤–µ—Ç! –Ø –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –±–æ—Ç –ü–µ—Ç—Ä—É—à–∫–∞üçÄ. –í–æ—Ç —á—Ç–æ —É–º–µ—é:
/joke - –°–ª—É—á–∞–π–Ω–∞—è —à—É—Ç–∫–∞
/quote - –ú—É–¥—Ä–∞—è —Ü–∏—Ç–∞—Ç–∞
/fact - –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç
/car [—Ü–≤–µ—Ç] [–º–∞—Ä–∫–∞] - –°–æ–∑–¥–∞—Ç—å –º–∞—à–∏–Ω—É
üì∏ –û—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ/–≥–æ–ª–æ—Å/—Ñ–∞–π–ª - –Ø –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∞—é
    """
    bot.reply_to(message, text)

jokes = ["–ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç —Ç–µ–º–Ω—ã–π —Ä–µ–∂–∏–º? –ü–æ—Ç–æ–º—É —á—Ç–æ —Å–≤–µ—Ç –ø—Ä–∏—Ç—è–≥–∏–≤–∞–µ—Ç –±–∞–≥–∏!", 
         "–ß—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –º–∞—Å—Å–∏–≤ —Å–ª–æ–≤–∞–º–∏? String!"]

@bot.message_handler(commands=['joke'])
def send_joke(message):
    bot.reply_to(message, random.choice(jokes))

quotes = ["¬´–°–ª–æ–∂–Ω–æ—Å—Ç—å –≤—Ä–∞–≥ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è¬ª ‚Äî –¢–æ–Ω–∏ –®–µ–π", 
         "¬´–ü—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚Äî –∫–æ—Ä–µ–Ω—å –≤—Å–µ—Ö –∑–æ–ª¬ª ‚Äî –î–æ–Ω–∞–ª—å–¥ –ö–Ω—É—Ç"]

@bot.message_handler(commands=['quote'])
def send_quote(message):
    bot.reply_to(message, random.choice(quotes))

facts = ["–ú–µ–¥—É–∑—ã –Ω–∞ 95% —Å–æ—Å—Ç–æ—è—Ç –∏–∑ –≤–æ–¥—ã", 
        "–í–µ–Ω–µ—Ä–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–ª–∞–Ω–µ—Ç–∞, –≤—Ä–∞—â–∞—é—â–∞—è—Å—è –ø—Ä–æ—Ç–∏–≤ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–∏"]

@bot.message_handler(commands=['fact'])
def send_fact(message):
    bot.reply_to(message, random.choice(facts))

@bot.message_handler(commands=['car'])
def create_car(message):
    args = telebot.util.extract_arguments(message.text).split()
    
    if len(args) < 2:
        bot.reply_to(message, "‚ùå –£–∫–∞–∂–∏—Ç–µ —Ü–≤–µ—Ç –∏ –º–∞—Ä–∫—É —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª: /car –∫—Ä–∞—Å–Ω—ã–π Toyota")
        return
        
    car = Car(color=args[0], brand=args[1])
    bot.reply_to(message, car.info())

@bot.message_handler(content_types=['photo'])
def handle_photo(message):
    bot.reply_to(message, "üì∏ –ö—Ä—É—Ç–æ–µ —Ñ–æ—Ç–æ! –°–æ—Ö—Ä–∞–Ω–∏–ª –µ–≥–æ –≤ –±–∞–∑–µ")

@bot.message_handler(content_types=['voice'])
def handle_voice(message):
    bot.reply_to(message, "üé§ –ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: {} —Å–µ–∫".format(message.voice.duration))

@bot.message_handler(content_types=['document'])
def handle_file(message):
    bot.reply_to(message, "üìÑ –§–∞–π–ª '{}' —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!".format(message.document.file_name))

bot.infinity_polling()
